## 1. React Queryë€?

- **(1) ê°œë…**
  ë¦¬ì•¡íŠ¸ ì¿¼ë¦¬ë€?
- **(2) ê¸°ì¡´ ë¯¸ë“¤ì›¨ì–´ì˜ í•œê³„**
  ë‹¤ë¥¸ ì„œë²„ì™€ì˜ API í†µì‹ ê³¼ ë¹„ë™ê¸° ë°ì´í„° ê´€ë¦¬ë¥¼ ìœ„í•´ Redux-thunk, Redux-Saga ë“± ë¯¸ë“¤ì›¨ì–´ë¥¼ ì±„íƒí•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ ë‹¤ìŒê³¼ ê°™ì€ ë¬¸ì œê°€ ìˆë‹¤.
  1. ë³´ì¼ëŸ¬ í”Œë ˆì´íŠ¸ : ì½”ë“œëŸ‰ì´ ë„ˆë¬´ ë§ë‹¤.
  2. ê·œê²©í™” ë¬¸ì œ : Reduxê°€ ë¹„ë™ê¸° ë°ì´í„° ê´€ë¦¬ë¥¼ ìœ„í•œ ì „ë¬¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì•„ë‹˜(ê·œê²©í™” ë¬¸ì œ)
- **(3) ë¦¬ì•¡íŠ¸ ì¿¼ë¦¬ì˜ ê°•ì  : ë„ˆë¬´ ì‰½ê³ , ì±…ì„ì—ì„œ ììœ ë¡­ë‹¤**
  1. ë³´ì¼ëŸ¬ í”Œë ˆì´íŠ¸ ë§Œë“¤ë‹¤ê°€ ì˜¤ë¥˜ë‚  ì¼ì´ ì—†ë‹¤!
  2. ë‚´ê°€ ë§Œë“  ë¶€ë¶„ ì•„ë‹ˆê¸° ë•Œë¬¸ì— ì˜ëª»ì´ ì¼ì–´ë‚œë“¤ ë‚´ ì˜ëª»ì´ ì•„ë‹ˆë‹¤!
  3. ì‚¬ìš©ë°©ë²•ì´ ê¸°ì¡´ thunk ëŒ€ë¹„ ë„ˆë¬´ ì‰½ê³  ì§ê´€ì ì´ë‹¤.

## 2. ì£¼ìš” í‚¤ì›Œë“œ

- **(1) Query**

  ì–´ë–¤ ë°ì´í„°ì— ëŒ€í•œ ìš”ì²­ì„ ì˜ë¯¸í•œë‹¤!

  axiosì˜ ê²½ìš° get ìš”ì²­ê³¼ ë¹„ìŠ·í•˜ë‹¤.

  > **const response = await axios.get(â€™http://localhost:3000/todosâ€™)**

- **(2) Mutation**
  ì–´ë–¤ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ëŠ” ê²ƒì´ë‹¤.
  ì–´ë–¤ ë°ì´í„°ë¼ í•¨ì€, ë°ì´í„° ê·¸ë£¹ ê·¸ ìì²´ë¥¼ ì˜ë¯¸í•œë‹¤.
  ë°”ê¾¼ë‹¤ëŠ” ê²ƒì€ ì¶”ê°€, ìˆ˜ì •, ì‚­ì œë¥¼ ì˜ë¯¸í•œë‹¤. CRUD ì¤‘, CUDì— í•´ë‹¹í•œë‹¤.
  (Create, Update, Delete)
  axiosì˜ ê²½ìš° post, put, patch, delete ìš”ì²­ê³¼ ë¹„ìŠ·í•˜ë‹¤.
  > axios.post(â€™http://localhost:3000/todosâ€™., newTodo);
  > axios.patch(`http://localhost:3000/todos/${id}`, {isDone: true});
- **(3) Query Invalidation**
  ìœ„ì—ì„œ ë³´ì•˜ë˜ Queryë¥¼ invalidation. ì¦‰, ë¬´íš¨í™” ì‹œí‚¨ë‹¤
  ë¬´íš¨í™” ì‹œí‚¨ë‹¤ëŠ” ê²ƒì´ ë¬´ìŠ¨ ì˜ë¯¸ì¼ê¹Œ?
  ê¸°ì¡´ì— ê°€ì ¸ì˜¨ **Query**ëŠ” ì„œë²„ ë°ì´í„°ì´ê¸° ë•Œë¬¸ì—, ì–¸ì œë“ ì§€ ë³€ê²½ì´ ìˆì„ ìˆ˜ ìˆë‹¤. ê·¸ë ‡ê¸° ë•Œë¬¸ì— **â€˜ìµœì‹  ìƒíƒœê°€ ì•„ë‹ ìˆ˜â€™** ìˆë‹¤. ê·¸ëŸ° ê²½ìš°, ê¸°ì¡´ì˜ ì¿¼ë¦¬ë¥¼ ë¬´íš¨í™” ì‹œí‚¨ í›„ ìµœì‹ í™” ì‹œì¼œì•¼ í•œë‹¤.
  ì´ëŸ° ê³¼ì •ì„ React Queryì—ì„œëŠ” ì•Œì•„ì„œ í•´ì¤€ë‹¤. ê·¸ ìœ ìš©í•œ ê¸°ëŠ¥ì´ ë°”ë¡œ **`Query Invalidation`**ì´ë‹¤.

## 3. ì‹¤ìŠµ

- **(1) ì¡°íšŒê¸°ëŠ¥ êµ¬í˜„ : ê¸°ì¡´ Todolist í”„ë¡œì íŠ¸ ë³€ê²½í•´ë³´ê¸°**
  ```bash
  1. yarn add react-query

  2. db.json ì„¸íŒ…

  3. json-server ì‹¤í–‰
  ```
  **App.jsx**
  ```jsx
  import React from "react";
  import Router from "./shared/Router";
  **import { QueryClient, QueryClientProvider } from "react-query";**

  **const queryClient = new QueryClient()**

  const App = () => {

    return (
      **<QueryClientProvider client={queryClient}>**
        <Router />;
      **</QueryClientProvider>**
    );
  };

  export default App;
  ```
  - QueryClientProvider : ë°ì´í„°ë¥¼ ì½ì–´ì˜¤ëŠ” ê¸°ëŠ¥(QueryClient)ì„ ì• í”Œë¦¬ì¼€ì´ì…˜ ì „ì²´ì— ì£¼ì…í•˜ë„ë¡ í•˜ëŠ” API
  useQueryë¥¼ ì´ìš©í•˜ì—¬ ì¡°íšŒê¸°ëŠ¥ì„ êµ¬í˜„í•´ë³´ì. ë¨¼ì € src > api í´ë”(dbì— ìš”ì²­í•˜ëŠ” íŒŒì¼ë“¤ ë‹¤ ëª¨ìœ¼ëŠ” ê³³)ë¥¼ ë§Œë“¤ê³  ê·¸ ì•„ë˜ì— todos ê´€ë ¨ apië¥¼ ê´€ë¦¬í•  íŒŒì¼ì„ ë§Œë“ ë‹¤.
  **src > api > todos.js**
  ```jsx
  // axios ìš”ì²­ì´ ë“¤ì–´ê°€ëŠ” ëª¨ë“  ëª¨ë“ˆ
  import axios from "axios";

  // ëª¨ë“  todosë¥¼ ê°€ì ¸ì˜¤ëŠ” api
  const getTodos = async () => {
    const response = await axios.get("http://localhost:3000/todos");
    **return response.data; ë°˜ë“œì‹œ!!**
  };

  export { getTodos };
  ```
  TodoList ì»´í¬ë„ŒíŠ¸ì˜ ì½”ë“œë„ ë³€ê²½
  **Todolist.jsx**
  ```jsx
  import React from "react";
  import { StyledDiv, StyledTodoListHeader, StyledTodoListBox } from "./styles";
  import Todo from "../Todo";
  import { __getTodosThunk } from "../../modules/todosSlice";

  **import { getTodos } from "../../../api/todos";
  import { useQuery } from "react-query";**

  /**
   * ì»´í¬ë„ŒíŠ¸ ê°œìš” : ë©”ì¸ > TODOLIST. í•  ì¼ì˜ ëª©ë¡ì„ ê°€ì§€ê³  ìˆëŠ” ì»´í¬ë„ŒíŠ¸
   * 2022.12.16 : ìµœì´ˆ ì‘ì„±
   *
   * @returns TodoList ì»´í¬ë„ŒíŠ¸
   */
  function TodoList({ isActive }) {
  **// useQuery("ì¿¼ë¦¬ì˜ ì´ë¦„", ì¡°íšŒë¥¼ í•´ì˜¤ëŠ” ë¹„ë™ê¸° í•¨ìˆ˜)**
    **const { isLoading, isError, data } = useQuery("todos", getTodos);**

    if (isLoading) {
      return <p>ë¡œë”©ì¤‘ì…ë‹ˆë‹¤....!</p>;
    }

    if (isError) {
      return <p>ì˜¤ë¥˜ê°€ ë°œìƒí•˜ì˜€ìŠµë‹ˆë‹¤...!</p>;
    }

    return (
      <StyledDiv>
        <StyledTodoListHeader>
          {isActive ? "í•´ì•¼ í•  ì¼ â›±" : "ì™„ë£Œí•œ ì¼ âœ…"}
        </StyledTodoListHeader>
        <StyledTodoListBox>
          {**data**
            .filter((item) => item.isDone === !isActive)
            .map((item) => {
              return <Todo key={item.id} todo={item} isActive={isActive} />;
            })}
        </StyledTodoListBox>
      </StyledDiv>
    );
  }

  export default TodoList;
  ```
  | **const { isLoading, isError, data } = useQuery("todos", getTodos);**
  ì´ ë¶€ë¶„ì´ React Queryê°€ ê°€ì§€ê³  ìˆëŠ” í° ì¥ì ì´ë‹¤. Thunkë¥¼ ì´ìš©í•˜ë©´ isLoading, isErrorë“±ì„ ê°œë°œìê°€ stateì—ì„œ ì§ì ‘ ë§Œë“¤ì–´ì¤¬ì–´ì•¼ í–ˆë‹¤.
  React QueryëŠ” ì„œë²„ ë°ì´í„°ë¥¼ ìœ„í•œ í‘œì¤€ì„ ì´ë¯¸ ì œì‹œí•˜ê³  ìˆê¸° ë•Œë¬¸ì— ê°œë°œìë“¤ ë§ˆë‹¤ì˜ íŠ¹ì„±ì— ë”°ë¼ ë°”ë€” ì—¼ë ¤ê°€ ì—†ë‹¤.
  return ë¬¸ì— ë„ì°©í•˜ê¸° ì „ì— isLoading ë˜ëŠ” isErrorì— ë”°ë¼ ë³„ë„ì˜ ì²˜ë¦¬ë¥¼ í•´ì£¼ê¸° ë•Œë¬¸ì— ëŒ€ê¸°ìƒíƒœ ì²˜ë¦¬ / ì˜¤ë¥˜ ì²˜ë¦¬ì— ëŒ€í•œ ë¶€ë¶„ë„ ì•„ì£¼ ì‰½ê²Œ í•´ê²°! ğŸ˜
- **(2) ì¶”ê°€ ê¸°ëŠ¥ êµ¬í˜„**
  todoë¥¼ ì¶”ê°€í•˜ëŠ” ë¶€ë¶„
  src > api > todos.js
  ```jsx
  import axios from "axios";

  // ê³µí†µìœ¼ë¡œ ëºì–´ìš”(ë¬¼ë¡  .envë¥¼ ì“°ëŠ”ê²Œ ë” ë°”ëŒì§í•¨)
  **const SERVER_URI = "http://localhost:4000";**

  const getTodos = async () => {
    const response = await axios.get(`${SERVER_URI}/todos`);
    return response.data;
  };

  **const addTodo = async (newTodo) => {
    await axios.post(`${SERVER_URI}/todos`, newTodo);
  };**

  export { getTodos, **addTodo** };
  ```
  Input.jsx
  ```jsx
  ...
  **import { addTodo } from "../../../api/todos";
  import { QueryClient, useMutation } from "react-query";**
  ...

  function Input() {
  ...
  	const queryClient = **useQueryClient()**;

  	const mutation = useMutation(addTodo, {
  	  onSuccess: () => {
  	    // Invalidate and refresh
  	    // ì´ë ‡ê²Œ í•˜ë©´, todosë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ë§Œë“¤ì—ˆë˜ queryë¥¼
  	    // invalidate í•  ìˆ˜ ìˆë‹¤. => query keyê°€ ì¤‘ìš”!
  	    queryClient.invalidateQueries("todos");
  	  },
    });
  mutation.mutate(newTodo(api ì¸ì))
  ```
  **[invalidateì˜ ê³¼ì •]**
  Input.jsxì—ì„œ ê°’ ì…ë ¥ìœ¼ë¡œ ì¸í•´ ì„œë²„ ë°ì´í„°ê°€ ë³€ê²½ë¨
  â†’ onSuccessê°€ ì¼ì–´ë‚˜ë©´ ê¸°ì¡´ì˜ Queryì¸ â€œtodosâ€ëŠ” ë¬´íš¨í™”
  â†’ ìƒˆë¡œìš´ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ì„œ â€œtodosâ€ë¥¼ ìµœì‹ í™”ì‹œí‚´
  â†’ TodoList.jsxë¥¼ ê°±ì‹ í•¨
  ë”°ë¼ì„œ ê³„ì†í•´ì„œ ë¦¬ì•¡íŠ¸ ì•±ì€ ìµœì‹  ìƒíƒœì˜ ì„œë²„ ë°ì´í„°ë¥¼ ìœ ì§€í•  ìˆ˜ ìˆê²Œ ëœë‹¤.

## 4. ì¡°ê¸ˆ ë” ë‚˜ì•„ê°€ê¸°

- useQuery
  1. useQuery hookì˜ ì‚¬ìš© ë°©ë²•

     ```tsx
     import { useQuery } from 'react-query';
     import { fetchTodoList } from '../api/fetchTodoList';

     function App() {
     	const info = useQuery('todos', fetchTodoList);
     											 (Query key, ë¹„ë™ê¸° í•¨ìˆ˜)
     }
     ```

  2. useQueryì˜ ì¸ìì— ëŒ€í•´
     1. ì²« ë²ˆì§¸ ì¸ì â€˜todosâ€™. ìš°ë¦° ì´ê±¸ ì¿¼ë¦¬ì˜ í‚¤(Query Keys)ë¼ê³  ë¶€ë¥¸ë‹¤.
        1. refetching í•˜ëŠ” ë°ì— ì“°ì¸ë‹¤. - invalidate
        2. ìºì‹±(caching) ì²˜ë¦¬ë¥¼ í•˜ëŠ” ë°ì—ë„ ì“°ì¸ë‹¤.
        3. **ì• í”Œë¦¬ì¼€ì´ì…˜ ì „ì²´ ë§¥ë½ì—ì„œ ì´ ì¿¼ë¦¬ë¥¼ ê³µìœ í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ ì“°ì¸ë‹¤.** â€”> ê·¸ ì–´ëŠ ì»´í¬ë„ŒíŠ¸ ê³³ê³³ì— ì´¥ì´¥ ë¿Œë ¤ì ¸ ìˆì–´ë„ ê°™ì€ keyë©´ ê°™ì€ ì¿¼ë¦¬ ë° ë°ì´í„° ë³´ì¥!!
        - â€˜Query Keysâ€™ì— ëŒ€í•´ ì¢€ ë” ìì„¸íˆ ì•Œì•„ë³´ê¸°
          1. QKëŠ” ìœ„ ì˜ˆì œì²˜ëŸ¼ í•œ ë‹¨ì–´ì¼ ìˆ˜ë„ ìˆ, ë°°ì—´ì˜ í˜•íƒœì¼ ìˆ˜ë„ ìˆê³ , ì‹¬ì§€ì–´ëŠ” nested ê°ì²´ì¼ ìˆ˜ë„ ìˆë‹¤. Keyë¼ëŠ” ë§ì´ ì˜ë¯¸í•˜ë“¯, ëª¨ë“  Query keysëŠ” Uniqueí•´ì•¼ í•¨ì„ ìŠì§€ ë§ì!!

             ```tsx
             const query1 = useQuery("qk", api); // unique
             const query2 = useQuery("qk2", api); // not unique
             const query3 = useQuery("qk2", api); // not unique
             ```

          2. ë‹¨ì–´ í•œ ê°œë¡œ ì´ë£¨ì–´ì§„ Query Keys
             1. ë§Œì¼ ë‹¤ìŒê³¼ ê°™ì€ ì½”ë“œê°€ ìˆë‹¤ê³  í•œë‹¤ë©´

                ```tsx
                useQuery('todos', ...)
                ```

             2. ë‚´ë¶€ì ìœ¼ë¡œëŠ” ë‹¤ìŒê³¼ ê°™ì´ í•´ì„ëœë‹¤(ë°°ì—´ í˜•íƒœë¡œ ê°–ê³ ìˆì–´ìš”)

                ```tsx
                queryKey === ["todos"];
                ```
          3. ë°°ì—´ í˜•íƒœì˜ Query Keys
             1. ì •ë³´ë¥¼ ìœ ì¼í•˜ê²Œ ì‹ë³„í•˜ê¸° ìœ„í•´ í•˜ë‚˜ì˜ ë‹¨ì–´ë³´ë‹¤ ë” ë§ì€ â€˜í‘œí˜„â€™ì´ í•„ìš”í•˜ë‹¤ë©´ ë¬¸ì, ìˆ«ì, object ë“±ë“± ì—¬ëŸ¬ê°€ì§€ë¥¼ ì¡°í•©í•œ ë°°ì—´ í˜•íƒœì˜ keyë„ ì‚¬ìš©ì´ ê°€ëŠ¥!
             2. ê³µì‹ ë¬¸ì„œ ì˜ˆì‹œ

                ```tsx
                // ğŸ’¥ì£¼ì˜! keyëŠ” í‘œí˜„ì´ ê·¸ë ‡ë‹¤ëŠ”ê±°ì§€, api ë¡œì§ê³¼ëŠ” ê´€ë ¨ì´ ì—†ë‹¤!

                // IDê°€ 5ì¸ todo ì•„ì´í…œ 1ê°œ
                useQuery(['todo', 5], ...)
                // queryKey === ['todo', 5]

                // IDê°€ 5ì¸ todo ì•„ì´í…œ 1ê°œì¸ë°, preview ì†ì„±ì€ trueì•¼
                useQuery(['todo', 5, { preview: true }], ...)
                // queryKey === ['todo', 5, { preview: true }]

                // todolist ì „ì²´ì¸ë°, typeì€ doneì´ì•¼
                useQuery(['todos', { type: 'done' }], ...)
                // queryKey === ['todos', { type: 'done' }]
                ```
          4. ë¬¸ì œ! ë‹¤ìŒ Query KeysëŠ” Unique í•œê°€?
             1. 1ë²ˆ ë¬¸ì œ

                ```tsx
                useQuery(['todos', { status, page }], ...)
                useQuery(['todos', { page, status }], ...)
                // useQuery(['todos', { page, status, other: undefined }], ...) ->ì–˜ë§Œ unique
                ```

             2. 2ë²ˆ ë¬¸ì œ (ëª¨ë‘ unique)

                ```tsx
                useQuery(['todos', status, page], ...)
                useQuery(['todos', page, status], ...)
                // useQuery(['todos', undefined, page, status], ...)
                ```
     2. ë‘ ë²ˆì§¸ ì¸ì, â€˜fetchTodoListâ€™. ìš°ë¦° ì´ê±¸ ì¿¼ë¦¬ í•¨ìˆ˜(Query Functions)ë¼ê³  ë¶€ë¥¸ë‹¤.
        1. ì¿¼ë¦¬ í•¨ìˆ˜ëŠ” promise ê°ì²´ë¥¼ return í•œë‹¤.
        2. promise ê°ì²´ëŠ” ë°˜ë“œì‹œ dataë¥¼ **resolve**í•˜ê±°ë‚˜ ì—ëŸ¬ë¥¼ ë‚´ì•¼ í•œë‹¤.
           1. resolveëŠ” ì •ìƒì ìœ¼ë¡œ í†µì‹ ì´ ë˜ì—ˆìŒì„ ì˜ë¯¸í•œë‹¤.
           2. ì›í–ˆë˜ ìƒí™©ì´ ì•„ë‹Œ ê²½ìš°. ì¦‰, ì˜¤ë¥˜ê°€ ë°œìƒí•œ ê²½ìš°ì—ëŠ” ê·¸ì— ë§ëŠ” ì ì ˆí•œ ì˜¤ë¥˜ ì²˜ë¦¬ ê´€ë ¨ ë¡œì§ì„ ì‚½ì…í•´ì„œ ì²˜ë¦¬ë¥¼ í•´ì¤˜ì•¼ë§Œ í•œë‹¤. axios, fetch, graphql ì¤‘ ì–´ë–¤ ë°©ë²•ì„ ì´ìš©í•˜ë˜ì§€ ì ì ˆí•œ ì˜¤ë¥˜ ì²˜ë¦¬ë¥¼ í†µí•´ ì‚¬ìš©ìê°€ í˜¼ë€ì— ë¹ ì§€ì§€ ì•Šë„ë¡ í•´ì¤˜ì•¼ë§Œ í•œë‹¤. â†’ try catch
  3. useQueryì˜ ê²°ê³¼ë¬¼ì— ëŒ€í•´
     1. useQueryë¥¼ í†µí•´ ì–»ì€ ê²°ê³¼ë¬¼ì€ ê°ì²´(object) ì´ë‹¤!
     2. ê·¸ ì•ˆì—ëŠ” â€˜ì¡°íšŒâ€™ë¥¼ ìš”ì²­í•œ ê²°ê³¼ì— ëŒ€í•œ ê±°ì˜ ëª¨ë“  ì •ë³´ê°€ ë“¤ì–´ìˆê³  ê·¸ ê³¼ì •ì— ëŒ€í•œ ì •ë³´ë„ ë‹¤ìŒê³¼ ê°™ì´ ë“¤ì–´ìˆë‹¤.
        1. ì‹œ~ì‘ í•˜ë©´, isLoadingì´ `true`ê°€ ëœë‹¤.
        2. ì¡°íšŒ ê²°ê³¼ ì˜¤ë¥˜ê°€ ë‚˜ë©´ isErrorê°€ `true`ê°€ ëœë‹¤. isLoadingì€ `false`ê°€ ëœë‹¤. **error** ê°ì²´ë¥¼ í†µí•´ ì¢€ ë” ìƒì„¸í•œ ì˜¤ë¥˜ ë‚´ìš©ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.
        3. ì¡°íšŒ ê²°ê³¼ ì •ìƒì´ ë˜ë©´ isSuccessê°€ `true`ê°€ ëœë‹¤. isLoadingì€ `false`ê°€ ëœë‹¤. **data** ê°ì²´ë¥¼ í†µí•´ ì¢€ ë” ìƒì„¸í•œ ì¡°íšŒ ê²°ê³¼ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë‹¤.
- mutations
  1. ìœ„ì—ì„œ ì–¸ê¸‰í–ˆë“¯ì´, queryì™€ëŠ” ë‹¤ë¥´ê²Œ mutationì€ **CUD**ì—ì„œ ì‚¬ìš©ëœë‹¤.
  2. useMutation ì˜ˆì œ

     ```jsx
     // [ì¶œì²˜] : ê³µì‹ë¬¸ì„œ

     function App() {
        const mutation = useMutation(**ë¹„ë™ê¸° í•¨ìˆ˜** newTodo => {
          return axios.post('/todos', newTodo)
        })

        return (
          <div>
            {mutation.isLoading ? (
              'Adding todo...'
            ) : (
              <>
                {mutation.isError ? (
                  <div>An error occurred: {mutation.error.message}</div>
                ) : null}

                {mutation.isSuccess ? <div>Todo added!</div> : null}

                <button
                  onClick={() => {
                    **mutation.mutate**({ id: new Date(), title: 'Do Laundry' })
                  }}
                >
                  Create Todo
                </button>
              </>
            )}
          </div>
        )
      }
     ```

  3. useMutationì€ hookì´ë‹¤. í•¨ìˆ˜. APIì´ë‹¤.
     1. mutation.mutate( **ì¸ì** )
        1. **ì¸ì**ëŠ” ë°˜ë“œì‹œ í•œ ê°œì˜ ë³€ìˆ˜ ë˜ëŠ” ê°ì²´ì—¬ì•¼ í•œë‹¤.
        2. mutation.mutate(ì¸ì1, ì¸ì2) â†’ ì˜¤ë¥˜
     2. ê²°ê³¼ë¥¼ ê°ì²´(object í˜•íƒœë¡œ) ê°–ê³  ìˆë‹¤.
     3. ê·¸ ê²°ê³¼ë¬¼ ê°ì²´ëŠ” í•­ìƒ `ì–´ëŠ ìƒíƒœ ì¤‘ í•˜ë‚˜`ì— ì†í•œë‹¤.
        1. isIdle (ê°€ë™ë˜ì§€ ì•ŠëŠ”)
        2. isLoading
        3. isError
           1. error ê°ì²´ë¥¼ í•­ìƒ í’ˆê³  ìˆìŒì„ ëª…ì‹¬!
        4. isSuccess(queryì—ë§Œ ìˆëŠ”ê²Œ ì•„ë‹˜)
           1. data ê°ì²´ë¥¼ í•­ìƒ í’ˆê³  ìˆìŒì„ ëª…ì‹¬
